<h1>Customer Reviews</h1>

<div class="body">
    <div class="rating_summary" *ngFor="let rating of ratings">
        <h2>Average Rating</h2>
        <div class="rating_details">
            <h3>{{rating.avgRating}}</h3>
            <ul class="rate_stars">
                <ng-template [ngIf]="rating.avgRating % 1 != 0">
                    <li *ngFor='let in of counterRound(rating.avgRating) ;let i = index'>
                        <i class="bi bi-star-fill"></i>
                    </li>
                    <li>
                        <i class="bi bi-star-half"></i>
                    </li>
                    <li *ngFor='let in of counter(5-round(rating.avgRating)) ;let i = index'>
                        <i class="bi bi-star"></i>                
                    </li>
                </ng-template>
                <ng-template [ngIf]="rating.avgRating % 1 == 0">
                    <li *ngFor='let in of counter(rating.avgRating) ;let i = index'>
                        <i class="bi bi-star-fill"></i>
                    </li>
                    <li *ngFor='let in of counter(5-rating.avgRating) ;let i = index'>
                        <i class="bi bi-star"></i>                
                    </li>
                </ng-template>
            </ul>
            <p class="number_of_reviews">{{rating.number_of_reviews}} Reviews</p>
        </div>
        <!-- <div class="group">
            <p>5</p>
            <div class="five" width="{{rating.five}}%"></div>
        </div>  
        <div class="group">
            <p>4</p>
            <span class="bar"><span class="four"></span></span>
        </div>     <div class="group">
            <p>3</p>
            <span class="bar"><span class="three"></span></span>
        </div>     <div class="group">
            <p>2</p>
            <span class="bar"><span class="two"></span></span>
        </div>     <div class="group">
            <p>1</p>
            <span class="bar"><span class="one"></span></span>
        </div>       -->
    </div>

    <div class="reviews">
        <div class="review" *ngFor="let review of reviews">
            <div class="profile">
                <img class="seller_photo" src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTd8fHByb2ZpbGV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" 
                alt="Logo">
                <div class="name_rate">
                    <p class="name">{{review.customerName}}</p>
                    <div class="rate_date">
                        <ul class="rate_stars">
                            <ng-template [ngIf]="review.rating % 1 != 0">
                                <li *ngFor='let in of counterRound(review.rating) ;let i = index'>
                                    <i class="bi bi-star-fill"></i>
                                </li>
                                <li>
                                    <i class="bi bi-star-half"></i>
                                </li>
                                <li *ngFor='let in of counter(5-round(review.rating)) ;let i = index'>
                                    <i class="bi bi-star"></i>                
                                </li>
                            </ng-template>
                            <ng-template [ngIf]="review.rating % 1 == 0">
                                <li *ngFor='let in of counter(review.rating) ;let i = index'>
                                    <i class="bi bi-star-fill"></i>
                                </li>
                                <li *ngFor='let in of counter(5-review.rating) ;let i = index'>
                                    <i class="bi bi-star"></i>                
                                </li>
                            </ng-template>
                        </ul>
                        <p class="date">{{review.reviewDate| date:'medium'}}</p>
                    </div>
                </div>
            </div>
            <p>{{review.review}}</p>
        </div>
    </div>
</div>